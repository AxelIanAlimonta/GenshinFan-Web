---
import type { Imagen } from "../types/Imagen";
import { obtenerImagenes } from "../api/imagenApi";
import GaleriaImagenes from "./GaleriaImagenes/GaleriaImagenes.astro";
import TextoOrnamentado from "./TextoOrnamentado.astro";
import { Image } from "astro:assets";

let imagenes: Imagen[] = await obtenerImagenes();
// ordenar por calificacion de mayor a menor y quedarse con las primeras 10
imagenes.sort((a, b) => b.calificacion - a.calificacion);
imagenes = imagenes.slice(0, 10);
---

<div class="min-h-screen relative overflow-hidden">
  <TextoOrnamentado fill="white"
    ><h2 class="text-xl md:text-3xl font-bold text-white cinzel p-3 text-center">Im√°genes</h2></TextoOrnamentado
  >
  <GaleriaImagenes imagenes={imagenes} />
  <Image
    src="https://fastcdn.hoyoverse.com/content-v2/hk4e/125279/0a5bd32e454d4888b3181ebdbc357326_1430876740119345908.jpg"
    alt="Fondo"
    width={1280}
    height={720}
    class="w-screen h-full absolute top-0 left-0 -z-10 object-cover blur-xs overflow-hidden scale-110 object-center"
  />
</div>
